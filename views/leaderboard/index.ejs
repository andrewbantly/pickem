<%- include("../partials/header.ejs") %>
<%- include("../partials/nav-signup.ejs") %>
<h2 class="league">Leaderboard</h2>
<% let winners = [] %>
<% allUsersAndPicks.forEach(user => { %>
    <% let wins = [] %>
    <% user.picks.forEach(pick => { %>
        <% if (pick.correctPick === true) { %>
            <%wins.push(pick)%>
            <%}}) %> 
       <%const userWins = {name: user.username, wins: wins.length }%>
    <%winners.push(userWins)%>
    <% }) %>
        <%winners.sort(function(b, a) { %>
        <%if (a.wins < b.wins ) {%>
            <% return -1%>
            <% } %>
            <% if (a.wins > b.wins ) {%>
                <%     return 1%>
                <%  } %>
                <%  return 0;%>
   <%})%>
   <div class="rankingContainer">
   <div class="nOneContainer">
       <h3 class="rankingOne">#1</h3><p class="userRanksOne"><%=winners[0].name%>'s <%=winners[0].wins%> wins</p>
   </div>
   <div class="nTwoContainer">
       <h3 class="rankingTwo">#2</h3><p class="userRanksTwo"><%=winners[1].name%>'s <%=winners[1].wins%> wins</p>
   </div>
   <div class="nThreeContainer">
       <h3 class="rankingThree">#3</h3><p class="userRanksThree"><%=winners[2].name%>'s <%=winners[2].wins%> wins</p>
   </div>
   </div>

<%- include("../partials/footer.ejs") %>